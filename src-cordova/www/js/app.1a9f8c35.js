(function(e){function t(t){for(var o,n,s=t[0],l=t[1],c=t[2],u=0,v=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&v.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},r={app:0},i=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"03f5":function(e,t,a){"use strict";var o=a("5842"),r=a.n(o);r.a},1:function(e,t){},1543:function(e,t,a){"use strict";a.r(t),a.d(t,"db",(function(){return n})),a.d(t,"auth",(function(){return s})),a.d(t,"currentUser",(function(){return l})),a.d(t,"usersCollection",(function(){return d})),a.d(t,"postsCollection",(function(){return u})),a.d(t,"commentsCollection",(function(){return v})),a.d(t,"likesCollection",(function(){return f}));var o=a("8aa5"),r=a.n(o),i=(a("e71f"),{apiKey:"AIzaSyDBIKhTYn7oY1Nwmv8YfqNOfLDBWuH6sTE",authDomain:"jam-along-1ec4d.firebaseapp.com",databaseURL:"https://jam-along-1ec4d.firebaseio.com",projectId:"jam-along-1ec4d",storageBucket:"jam-along-1ec4d.appspot.com",messagingSenderId:"920694412221",appId:"1:920694412221:web:dfa848268d37308418f8d4",measurementId:"G-7CR6HV95ML"});r.a.initializeApp(i);var n=r.a.firestore(),s=r.a.auth(),l=s.currentUser,c={};n.settings(c);var d=n.collection("users"),u=n.collection("posts"),v=n.collection("comments"),f=n.collection("likes")},2111:function(e,t,a){},"26e6":function(e,t,a){e.exports=a.p+"img/logo_transparent_background.92706810.png"},"270c":function(e,t,a){"use strict";var o=a("7395"),r=a.n(o);r.a},"30a8":function(e,t,a){},"30f8":function(e,t,a){},5842:function(e,t,a){},"6aa1":function(e,t,a){},7395:function(e,t,a){},"73ec":function(e,t,a){},"7b1f":function(e,t,a){"use strict";var o=a("30a8"),r=a.n(o);r.a},"80c7":function(e,t,a){},9373:function(e,t,a){"use strict";var o=a("80c7"),r=a.n(o);r.a},a363:function(e,t,a){"use strict";var o=a("6aa1"),r=a.n(o);r.a},a71e:function(e,t,a){"use strict";var o=a("30f8"),r=a.n(o);r.a},ae67:function(e,t,a){"use strict";var o=a("e72b"),r=a.n(o);r.a},b0a0:function(e,t,a){"use strict";var o=a("73ec"),r=a.n(o);r.a},ba99:function(e,t,a){},cc4b:function(e,t,a){"use strict";var o=a("ba99"),r=a.n(o);r.a},cd49:function(e,t,a){"use strict";a.r(t);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{staticStyle:{},attrs:{id:"app"}},[a("v-card",[a("router-view")],1)],1),a("footer",[a("cookie-law",{attrs:{theme:"blood-orange"}})],1)])},i=[],n=a("d2d0"),s=a.n(n),l={name:"app",components:{CookieLaw:s.a},data:function(){return{valueDeterminate:50}}},c=l,d=(a("ae67"),a("b0a0"),a("2877")),u=a("6544"),v=a.n(u),f=a("7496"),p=a("b0af"),h=Object(d["a"])(c,r,i,!1,null,"2cbae2e6",null),m=h.exports;v()(h,{VApp:f["a"],VCard:p["a"]});a("4160"),a("a434"),a("b0c0"),a("159b");var y,g,b,w,C,x,j,T,k,O,V=a("d4ec"),P=a("2f62"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"z-index":"999"},on:{click:e.activate,touchstart:e.activate}},[a("div",{attrs:{id:"videoJs"},on:{drop:function(t){return t.preventDefault(),e.addFile(t)},dragover:function(e){e.preventDefault()}}},[a("video",{staticClass:"video-js vjs-layout-large ",style:e.isActive()?"border: solid;":"",attrs:{id:e.id,playsinline:"",controls:"",preload:"auto",width:"10vh",height:"10vh"},on:{click:e.activate}},[null!=e.src?a("source",{attrs:{src:e.src,type:"video/mp4"}}):e._e()])])])},S=[],F=(a("99af"),a("d3b7"),a("25f0"),a("2909")),G=a("6b7b"),A=a("bee2"),D=a("257e"),E=a("262e"),z=a("2caf"),R=(a("ade3"),a("63ae")),M=(a("f890"),a("9c0b"),a("c9d5"),a("494e"),a("b9b7")),I=a.n(M),U=(a("fda2"),a("d52a"),a("60a3")),B=(a("d093"),a("a9ee"),a("f0e2")),W=(a("3966"),a("b2c5"),y=Object(U["a"])(),g=Object(U["b"])(),b=Object(U["b"])(),w=Object(U["b"])(),y((O=function(e){Object(E["a"])(a,e);var t=Object(z["a"])(a);function a(){var e;Object(V["a"])(this,a);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(G["a"])(Object(D["a"])(e),"id",j,Object(D["a"])(e)),Object(G["a"])(Object(D["a"])(e),"active",T,Object(D["a"])(e)),Object(G["a"])(Object(D["a"])(e),"src",k,Object(D["a"])(e)),e}return Object(A["a"])(a,[{key:"data",value:function(){return{min:0,max:3e3,slider:0,player:""}}},{key:"isActive",value:function(){return q.state.activePlayer==this}},{key:"created",value:function(){this.$root.$refs.A=this}},{key:"mounted",value:function(){var e=this,t={controls:!1,autoplay:!1,crossOrigin:"anonymous",fluid:!0,responsive:!0,loop:!1,width:400,height:400,controlBar:{volumePanel:!0,seeking:!0},plugins:{record:null==this.src?{audio:!0,crossOrigin:"anonymous",maxLength:500,debug:!0,frameWidth:400,frameHeight:400,width:400,height:400,video:{width:400,height:400}}:{},wavesurfer:{barHeight:100,debug:!0,waveColor:"#FF914C",progressColor:"orangered",cursorColor:"yellow",container:".waveform",hideScrollbar:!0}}};this.player=Object(B["default"])("#"+this.id,t,(function(){var e="Using video.js "+B["default"].VERSION+" with videojs-wavesurfer "+B["default"].getPluginVersion("wavesurfer")+" and wavesurfer.js "+I.a.VERSION;B["default"].log(e)})),this.player.width=1e3,this.player.height=1e3;/Mobi/i.test(window.navigator.userAgent);if(q.commit("addPlayer",this),null!==this.src&&void 0!==this.src)this.player.src=this.src,this.player.crossOrigin="anonymous";else try{this.player.record().getDevice()}catch(a){alert("fehler")}q.commit("activePlayer",this),this.player.on("deviceReady",(function(){console.log("device is ready!")})),this.player.on("startRecord",(function(){var t=(new Date).getTime();q.state.players.forEach((function(e){console.log("play"),e.player.play()}));var a=(new Date).getTime();e.slider=a-t,console.log("offset: "+e.slider.toString())})),this.player.on("ended",(function(){alert})),this.player.on("finishRecord",(function(){var t=/Mobi/i.test(window.navigator.userAgent);t||q.state.waveform||(e.player.wavesurfer().load(e.player.recordedData),q.commit("setWaveForm",!0)),console.log("finished recording: ",e.player.recordedData)})),this.player.on("error",(function(e,t){console.warn(t)})),this.player.on("deviceError",(function(){console.error("device error:",e.player.deviceErrorCode)}))}},{key:"addFile",value:function(e){var t=this,a=e.dataTransfer.files;a&&Object(F["a"])(a).forEach((function(e){var a=new FileReader;a.onload=t.loadData,a.addEventListener("load",(function(){var e=document.querySelector("video");e.src=a.result;var t=document.createElement("style");t.type="text/css",t.setAttributeNode(document.createAttribute("scopped")),t.appendChild(document.createTextNode(".vjs-record .vjs-device-button.vjs-control{display:none}")),this.$el.appendChild(t)}),!1),a.readAsDataURL(e),t.files.push(e)}))}},{key:"loadData",value:function(e){null!==e&&null!==e.target&&(this.src=e.target.result)}},{key:"removeFile",value:function(e){this.files=this.files.filter((function(t){return t!=e}))}},{key:"style",value:function(){return q.state.activePlayer==this?"border: dashed;":""}},{key:"activate",value:function(){q.commit("activePlayer",this)}},{key:"beforeDestroy",value:function(){this.player&&this.player.dispose()}}]),a}(o["a"]),x=O,j=Object(R["a"])(x.prototype,"id",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Object(R["a"])(x.prototype,"active",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=Object(R["a"])(x.prototype,"src",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=x))||C);W.player=void 0;var N=W,X=(a("cc4b"),a("a523")),L=Object(d["a"])(N,_,S,!1,null,null,null),$=L.exports;v()(L,{VContainer:X["a"]});var Y=a("1543");o["a"].use(P["a"]);var H=function e(t,a){Object(V["a"])(this,e),this.id=t,this.src=a},J=function e(t,a,o,r,i){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;Object(V["a"])(this,e),this.id=t,this.x=a,this.y=o,this.sizeX=r,this.sizeY=i,this.lastX=a,this.lastY=o,this.src=n},q=new P["a"].Store({state:{children:Array(),players:Array(),activePlayer:$,userProfile:{},activeProject:"",activeProjectName:"",projects:Array(),videoGrid:Array(),saveOverlay:!1,transformationMode:"",waveform:!1,playing:!1,nextUrl:""},mutations:{setNextUrl:function(e,t){e.nextUrl=t},setWaveForm:function(e,t){e.waveform=t},setTransformationMode:function(e,t){e.transformationMode=t},setUser:function(e,t){e.userProfile=t},setSaveOverlay:function(e,t){e.saveOverlay=t},updateGridVideo:function(e,t){if(null!=t.id){for(var a=0;a<e.videoGrid.length;a++)e.videoGrid[a].id===t.id&&e.videoGrid.splice(a,1);e.videoGrid.push(t)}},addVideoToGrid:function(e,t){e.videoGrid.push(t)},setProject:function(e,t){e.activeProject=t},setProjectName:function(e,t){e.activeProjectName=t},addProject:function(e,t){e.projects.push({name:t.name,projectid:t.projectid,userid:t.userid})},addPlayer:function(e,t){e.players.push(t)},resetChildren:function(e){e.players=Array(),e.children=new Array,e.videoGrid=new Array,e.waveform=!1},activePlayer:function(e,t){e.activePlayer=t},setAtivePlayerSrc:function(e,t){e.videoGrid.forEach((function(a){if(a.id==e.activePlayer.id){var o=new J("JALvideojs"+Date.now(),a.x,a.y,a.sizeX,a.sizeY,t);e.videoGrid.push(o)}})),e.activePlayer.src=t},setPlaying:function(e,t){e.playing=t},setActivePlayById:function(e,t){e.players.forEach((function(a){void 0!=t&&null!=t&&a.id==t&&(e.activePlayer=a)}))},addChildren:function(e,t){e.children.push(t)},removeChildren:function(e,t){for(var a=0;a<e.videoGrid.length;a++)e.videoGrid[a].id===t&&e.videoGrid.splice(a,1);for(var o=0;o<e.players.length;o++)e.players[o].id===t&&e.players.splice(o,1)}},actions:{fetchUserProfile:function(e){var t,a=e.commit,o=e.state;Y.usersCollection.doc(null===(t=o.currentUser)||void 0===t?void 0:t.uid).get().then((function(e){a("setUserProfile",e.data())})).catch((function(e){console.log(e)}))}}}),Z=a("f309");o["a"].use(Z["a"]);var K=new Z["a"]({theme:{dark:!0,themes:{dark:{primary:"#FF914C",secondary:"363636",accent:"#8c9eff",error:"#b71c1c"}}}}),Q=(a("c975"),a("45fc"),a("ac1f"),a("1276"),a("8aa5")),ee=a.n(Q),te=a("8c4f"),ae=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"inspire"}},[o("v-overlay",{attrs:{opacity:1,value:e.overlay,"z-index":99}},[o("v-img",{attrs:{src:a("26e6")}}),o("v-progress-linear",{attrs:{indeterminate:"",color:"#FF914C"}})],1),o("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",{attrs:{dense:""}},[o("v-list-item",{attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-view-dashboard")])],1),o("v-list-item-content",[o("v-list-item-title",[e._v("Dashboard")])],1)],1),o("v-list-item",{attrs:{link:""}},[o("v-list-item-action",[o("v-icon",[e._v("mdi-settings")])],1),o("v-list-item-content",[o("v-list-item-title",[e._v("Settings")])],1)],1)],1)],1),o("v-app-bar",{attrs:{"overflow-hidden":"",app:"","clipped-left":""}},[o("v-app-bar-nav-icon",{attrs:{color:"primary"},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),o("v-toolbar-side-icon",[o("v-img",{staticClass:"mr-3",attrs:{src:a("26e6"),width:"30%"}})],1)],1),o("v-container",{staticClass:"fill-height",staticStyle:{background:"#FF914C"},attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"3"}}),o("v-col",{staticClass:" center",staticStyle:{"flex-basis":"auto"},attrs:{align:"center",cols:"6"}},[o("ProjectGrid")],1),o("v-col",{attrs:{cols:"3"}})],1)],1),o("v-footer",{attrs:{app:""}},[o("span",[e._v("© 2020")]),o("span",[o("router-link",{attrs:{to:"/disclaimer"}},[e._v("Disclaimer")])],1)])],1)},oe=[],re=(a("5319"),a("96cf"),a("1da1")),ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{fluid:""}},[o("v-overlay",{attrs:{opacity:1,value:e.overlay,"z-index":99}},[o("v-img",{attrs:{src:a("26e6")}}),o("v-progress-linear",{attrs:{indeterminate:"",color:"#FF914C"}})],1),o("v-overlay",{attrs:{opacity:.8,value:e.$store.state.saveOverlay,"z-index":99}},[o("v-img",{attrs:{src:a("26e6")}}),o("h2",{staticStyle:{color:"#FF914C"}},[e._v("save project...")]),o("v-progress-linear",{attrs:{indeterminate:"",color:"#FF914C"}})],1),o("v-dialog",{attrs:{value:e.saveProjectDialog,persistent:"","max-width":"600px"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[e._v("Project")])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Project name*",required:""},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"#FF914C",text:""},on:{click:function(t){e.saveProjectDialog=!1}}},[e._v("Close")]),o("v-btn",{attrs:{color:"#FF914C",text:""},on:{click:e.saveProject}},[e._v("Save")])],1)],1)],1),o("v-app-bar",{staticStyle:{"vertical-align":"bottom"},attrs:{fixed:"",dense:""}},[o("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.handleFileUpload()}}}),o("v-btn",{on:{click:function(t){return e.$refs.file.click()}}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-movie-open")])],1),o("v-btn",{on:{click:e.record}},[o("v-icon",{attrs:{color:e.recording?"red":"#FF914C"}},[e._v("mdi-record")])],1),e.$store.state.playing?e._e():o("v-btn",{on:{click:e.click}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-play")])],1),e.$store.state.playing?o("v-btn",{on:{click:e.pause}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-pause")])],1):e._e(),o("v-btn",{on:{click:e.stop}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-stop")])],1),o("v-btn",{style:e.isMobileDevice?"":"margin-left:10vw",on:{click:e.save}},[0==e.downloading?o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-download")]):e._e(),1==e.downloading?o("v-progress-circular",{attrs:{width:3,color:"#FF914C",indeterminate:""}}):e._e()],1),o("v-btn",{staticStyle:{"margin-left":"50px"},on:{click:function(t){e.saveProjectDialog=!0}}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-zip-disk")])],1),o("v-btn",{on:{click:e.removePlayer}},[o("v-icon",{attrs:{color:"#FF914C"}},[e._v("mdi-delete")])],1),o("v-btn",{on:{click:function(t){return e.setTransformationMode("position")}}},[o("v-icon",{attrs:{color:"position"==e.$store.state.transformationMode?"white":"#FF914C"}},[e._v("mdi-arrow-all")])],1),o("v-btn",{on:{click:function(t){return e.setTransformationMode("size")}}},[o("v-icon",{attrs:{color:"size"==e.$store.state.transformationMode?"white":"#FF914C"}},[e._v("mdi-arrow-top-right-bottom-left")])],1)],1),o("div",{staticClass:"Grid",attrs:{id:"Grid",scrollable:""}},[o("div",{staticClass:"Grid-selector addMode"}),o("div",{staticClass:"Tiles"},e._l(this.$store.state.videoGrid,(function(t){return o("video-js-recorder",{key:t.id,class:"Tiles-floor data-x="+t.x+" data-y="+t.y,style:e.getStyle(t),attrs:{id:t.id,src:t.videourl}})})),1)]),o("v-card",{staticStyle:{}},[o("v-col",{attrs:{cols:"12"}},[o("div",{staticStyle:{}},[o("v-slider",{attrs:{"thumb-label":"",step:"0.001",max:e.getDuration()},on:{change:e.changeTime},model:{value:e.timeSlider,callback:function(t){e.timeSlider=t},expression:"timeSlider"}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.waveform,expression:"$store.state.waveform"}],staticClass:"waveform",staticStyle:{}})])],1)],1)},ne=[],se=(a("a9e3"),a("3ca3"),a("ddb0"),a("2b3d"),a("9ab4")),le=a("53ca"),ce=a("a366"),de=a.n(ce),ue=function(){function e(){Object(V["a"])(this,e)}return Object(A["a"])(e,[{key:"mergeVideos",value:function(e){var t=new de.a;t.crossOrigin="anonymous",t.setOutputSize(1200,1200);var a=0,o=0,r=0,i=e.length>2?0:t.height/4;return e.forEach((function(e){var n;n=null!=e.src?document.getElementById(e.id+"_html5_api"):e.player.record().mediaElement,n.crossOrigin="anonymous",q.state.videoGrid.forEach((function(t){t.id==e.id&&(a=200*t.x,i=200*t.y,o=200*Math.floor(t.sizeX/10),r=o)})),t.addMediaElement("webm",n,{x:a,y:i,width:o,height:r})})),t.start(),t}},{key:"deepCopy",value:function(e){var t;if(null==e||"object"!=Object(le["a"])(e))return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var a=0,o=e.length;a<o;a++)t[a]=this.deepCopy(e[a]);return t}if(e instanceof Object){for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=this.deepCopy(e[r]));return t}throw alert("Unable to copy obj! Its type isn't supported.")}}]),e}(),ve=function e(t,a,o,r,i,n,s){Object(V["a"])(this,e),this.offset=a,this.videourl=t,this.id=o,this.x=r,this.y=i,this.sizeX=n,this.sizeY=s},fe=function(){function e(){Object(V["a"])(this,e)}return Object(A["a"])(e,[{key:"writeUserData",value:function(e,t,a,o){var r={};r["project/"+a]={name:o,userid:e,videos:t},r["users/"+e+"/projects/"+a]={projectid:a,name:o},ee.a.database().ref().update(r),q.commit("setSaveOverlay",!1)}},{key:"createProject",value:function(e,t){ee.a.database().ref("users/"+e+"/projects").push(t,(function(e){return console.log(e?"error while pushing":"successful push")}))}},{key:"createUser",value:function(e,t,a,o){ee.a.database().ref("users/"+e).set({userId:e,email:t,name:a,lastname:o,projects:{}})}},{key:"saveState",value:function(e,t){var a=this,o=new Array;q.state.players.forEach((function(r){var i;q.state.videoGrid.forEach((function(e){e.id==r.id&&(i=e)}));var n={contentType:"video/webm"};if(null!=r.player.src&&"string"==typeof r.player.src){var s;o.push(new ve(r.player.src,r.slider,r.id,i.x,i.y,i.sizeX,i.sizeY)),a.writeUserData(null===(s=ee.a.auth().currentUser)||void 0===s?void 0:s.uid,o,e,t)}else{var l=ee.a.storage().ref("".concat(r.id)).put(r.player.recordedData,n);l.on("state_changed",(function(e){return null}),(function(e){console.log(e.message)}),(function(){l.snapshot.ref.getDownloadURL().then((function(n){var s;o.push(new ve(n,r.slider,r.id,i.x,i.y,i.sizeX,i.sizeY)),a.writeUserData(null===(s=ee.a.auth().currentUser)||void 0===s?void 0:s.uid,o,e,t)}))}))}}))}},{key:"loadState",value:function(e){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);q.state.players=[],q.state.children=[],t.forEach((function(e){e.videourl}))},t.readAsText(e)}},{key:"loadUser",value:function(e){var t=ee.a.database().ref("users/"+e);t.on("value",(function(e){q.commit("setUser",e.val())}))}},{key:"loadProject",value:function(){var e=ee.a.database().ref("project/"+q.state.activeProject);e.once("value").then((function(e){void 0!==e.val().videos&&e.val().videos.forEach((function(e){try{e.lastX=e.x,e.lastY=e.y,q.commit("addVideoToGrid",e)}catch(t){switch(alert("error"),t.code){case"storage/object-not-found":break;case"storage/unauthorized":break;case"storage/canceled":break;case"storage/unknown":break}}}))}))}}]),e}(),pe=a("1157"),he=a.n(pe),me=a("7ecc"),ye=function(e){Object(E["a"])(a,e);var t=Object(z["a"])(a);function a(e){var o;return Object(V["a"])(this,a),o=t.call(this,e),o.viId=0,o.hover=!1,o.downloading=!1,o.file="",o.factor=1,o.saveProjectDialog=!1,o.valueDeterminate=0,o.recording=!1,o.overlay=!1,o.projectid="",o.projectName="",o.mediaRecorder=null,o.service=new ue,o.i=0,o.isMobileDevice=/Mobi/i.test(window.navigator.userAgent),o.isMobileDevice&&(alert("Jam-Along might not work with mobile devices. Please use Google Chrome on a Desktop PC"),o.setTransformationMode("size")),sessionStorage.clear(),o.files=[],o.data=[],o.recordedChunks=[],o.projectName=q.state.activeProjectName,o}return Object(A["a"])(a,[{key:"handleFileUpload",value:function(){var e=this.$refs.file.files[0],t=new FileReader;t.onload=this.loadData,t.readAsDataURL(e),this.files.push(e)}},{key:"setTransformationMode",value:function(e){q.commit("setTransformationMode",e)}},{key:"getStyle",value:function(e){return"left:"+10*e.x+"vh ; top:"+10*e.y+"vh ; width:"+e.sizeX+"vh ;  height:"+e.sizeX+"vh"}},{key:"init",value:function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.sleep(1200);case 2:q.commit("resetChildren"),""==q.state.activeProject?q.commit("setProject",Math.random().toString(36).substring(2)+Date.now().toString(36)):fe.prototype.loadProject(),this.overlay=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sleep",value:function(e){return new Promise((function(t){setTimeout(t,e)}))}},{key:"mounted",value:function(){this.overlay=!0,this.init(),this.blub()}},{key:"setZoom",value:function(e,t){for(var a=[0,0],o=["webkit","moz","ms","o"],r="scale("+e+")",i=100*a[0]+"% "+100*a[1]+"%",n=0;n<o.length;n++)t.style[o[n]+"Transform"]=r,t.style[o[n]+"TransformOrigin"]=i;t.style["transform"]=r,t.style["transformOrigin"]=i}},{key:"getZoom",value:function(e){var t=Number(e)/100;this.setZoom(t,document.getElementsByClassName("Grid")[0])}},{key:"vwTOpx",value:function(e){var t=window,a=document,o=a.documentElement,r=a.getElementsByTagName("body")[0],i=t.innerWidth||o.clientWidth||r.clientWidth;t.innerHeight||o.clientHeight||r.clientHeight;return i*e/100}},{key:"getDuration",value:function(){var e;return void 0!=q.state.activePlayer.player?null===(e=q.state.activePlayer.player)||void 0===e?void 0:e.duration():0}},{key:"changeTime",value:function(e){try{void 0!=q.state.activePlayer.player&&null!=q.state.activePlayer.player&&q.state.activePlayer.player.currentTime(e)}catch(t){console.log("error")}}},{key:"blub",value:function(){console.log("START");this.vwTOpx(22);var e={vhTOpx:function(e){var t=window,a=document,o=a.documentElement,r=a.getElementsByTagName("body")[0],i=(t.innerWidth||o.clientWidth||r.clientWidth,t.innerHeight||o.clientHeight||r.clientHeight),n=i*e/100;return n},pxTOvw:function(e){var t=window,a=document,o=a.documentElement,r=a.getElementsByTagName("body")[0],i=t.innerWidth||o.clientWidth||r.clientWidth,n=(t.innerHeight||o.clientHeight||r.clientHeight,100*e/i);return n},cellSize:10,curCell:new me["a"](0,0),offset:new me["a"](0,0),curTileType:"Tiles-floor",lastVideoTile:new J(null,null,null,null,null),cursor:{enable:function(){he()("body").on("mousemove",".Grid",e.cursor.run),he()("body").on("touchmove",".Grid",e.cursor.runTouch),he()(".Grid").css("cursor","default"),he()(".Grid-selector").css({left:e.curCell.x*e.vhTOpx(e.cellSize)+e.offset.x,top:e.curCell.y*e.vhTOpx(e.cellSize)+e.offset.y}).show()},disable:function(){he()("body").off("mousemove",".Grid",e.cursor.run),he()("body").off("touchmove",".Grid",e.cursor.runTouch),he()(".Grid-selector").hide()},run:function(t){var a=document.getElementById("Grid").getBoundingClientRect(),o=t.clientX-a.left,r=t.clientY-a.top,i=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize)),Math.floor(r/e.vhTOpx(e.cellSize)));he()(".Grid-selector").css({left:i.x*e.vhTOpx(e.cellSize),top:i.y*e.vhTOpx(e.cellSize)})},runTouch:function(t){console.log("HIIIIIEEER 2 ");var a=document.getElementById("Grid").getBoundingClientRect(),o=t.touches[0].clientX-a.left,r=t.touches[0].clientY-a.top,i=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize)),Math.floor(r/e.vhTOpx(e.cellSize)));console.log(" Grid.curCell.x "+e.curCell.x),console.log(" Grid.curCell.y "+e.curCell.y),console.log(" hoverCell.x "+i.x),console.log(" hoverCell.y "+i.y),e.curCell.x===i.x&&e.curCell.y===i.y||(e.curCell=i,console.log("DA"),e.mergeVideoTile(e.curTileType,e.curCell.x,e.curCell.y))}},modify:{enable:function(){he()(".Grid").on("mousedown",e.modify.start),he()(".Grid").on("touchstart",e.modify.startTouch),he()(".Grid").on("mouseup",e.modify.end),he()(".Grid").on("touchend",e.modify.endTouch),he()(".Grid").on("contextmenu",(function(){return!1}))},disable:function(){he()(".Grid").off("mousedown",e.modify.start),he()(".Grid").off("touchstart",e.modify.startTouch),he()(".Grid").off("mousemove",e.modify.run),he()(".Grid").off("touchmove",e.modify.runTouch)},start:function(t){if(!/Mobi/i.test(window.navigator.userAgent)){console.log("MOD START");var a=document.getElementById("Grid").getBoundingClientRect(),o=t.clientX-a.left,r=t.clientY-a.top,i=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize)),Math.floor(r/e.vhTOpx(e.cellSize)));e.lastVideoTile.lastX=i.x,e.lastVideoTile.lastY=i.y,e.curCell=i,1==t.which?e.addVideoTile(e.curTileType,e.curCell.x,e.curCell.y):3==t.which&&(he()(".Grid-selector").removeClass("addMode").addClass("deleteMode").hide().show(1),e.deleteTile(e.curTileType,e.curCell.x,e.curCell.y)),he()(".Grid").on("mousemove",e.modify.run),he()(".Grid").on("touchmove",e.modify.runTouch)}},startTouch:function(t){console.log("TOUCH START");var a=document.getElementById("Grid").getBoundingClientRect(),o=t.touches[0].clientX-a.left,r=t.touches[0].clientY-a.top,i=window.innerHeight>window.innerWidth?.7:1,n=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize*i)),Math.floor(r/e.vhTOpx(e.cellSize*i)));e.curCell=n,0==t.which?e.addVideoTile(e.curTileType,e.curCell.x,e.curCell.y):3==t.which&&(he()(".Grid-selector").removeClass("addMode").addClass("deleteMode").hide().show(1),e.deleteTile(e.curTileType,e.curCell.x,e.curCell.y)),he()(".Grid").on("mousehmove",e.modify.run),he()(".Grid").on("touchmove",e.modify.runTouch)},runTouch:function(t){var a=document.getElementById("Grid").getBoundingClientRect(),o=t.touches[0].clientX-a.left,r=t.touches[0].clientY-a.top,i=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize)),Math.floor(r/e.vhTOpx(e.cellSize)));e.curCell.x===i.x&&e.curCell.y===i.y||(e.curCell=i,0==t.which?(console.log("DA"),e.mergeVideoTile(e.curTileType,e.curCell.x,e.curCell.y)):3==t.which&&e.deleteTile(e.curTileType,e.curCell.x,e.curCell.y))},run:function(t){var a=document.getElementById("Grid").getBoundingClientRect(),o=t.clientX-a.left,r=t.clientY-a.top,i=new me["a"](Math.floor(o/e.vhTOpx(e.cellSize)),Math.floor(r/e.vhTOpx(e.cellSize)));e.curCell.x===i.x&&e.curCell.y===i.y||(e.curCell=i,1==t.which?(console.log("DA"),e.mergeVideoTile(e.curTileType,e.curCell.x,e.curCell.y)):3==t.which&&e.deleteTile(e.curTileType,e.curCell.x,e.curCell.y))},endTouch:function(e){console.log("end touch")},end:function(e){console.log("MOD END"),he()(".Grid-selector").removeClass("deleteMode").addClass("addMode").hide().show(1)}},pan:{lastPt:new me["a"](0,0),enable:function(){he()(document).on("keydown",e.pan.start),he()(document).on("keyup",e.pan.disable)},disable:function(t){32==t.which&&(t.preventDefault(),he()(".Grid").off("mousedown",e.pan.begin),he()(".Grid").off("touchstart",e.pan.begin),he()(".Grid").off("mouseup",e.pan.stop),he()(".Grid").off("touchend",e.pan.stop),e.cursor.enable(),e.modify.enable())},start:function(t){console.log("MOUSESTART"),32==t.which&&(t.preventDefault(),e.cursor.disable(),e.modify.disable(),he()(".Grid").css("cursor","move"),he()(".Grid").on("mousedown",e.pan.begin),he()(".Grid").on("touchstart",e.pan.begin),he()(".Grid").on("touchend",e.pan.stop))},begin:function(t){var a=document.getElementById("Grid").getBoundingClientRect(),o=t.clientX-a.left,r=t.clientY-a.top;e.pan.lastPt=new me["a"](o,r),he()(".Grid").on("mousemove",e.pan.run),he()(".Grid").on("touchmove",e.pan.runTouch)},run:function(t){console.log("MOUSERUN");var a=document.getElementById("Grid").getBoundingClientRect(),o=t.clientX-a.left,r=t.clientY-a.top;e.offset.x+=o-e.pan.lastPt.x,e.offset.y+=r-e.pan.lastPt.y,he()(".Tiles").css({left:e.offset.x,top:e.offset.y}),he()(".Grid").css("background-position",e.offset.x+"px "+e.offset.y+"px"),e.pan.lastPt=new me["a"](o,r)},stop:function(t){console.log("MOUSESTOP"),he()(".Grid").off("mousemove",e.pan.run),he()(".Grid").off("touchmove",e.pan.runTouch)},runTouch:function(t){var a=document.getElementById("Grid").getBoundingClientRect(),o=t.touches[0].clientX-a.left,r=t.touches[0].clientY-a.top;e.offset.x+=o-e.pan.lastPt.x,e.offset.y+=r-e.pan.lastPt.y,he()(".Tiles").css({left:e.offset.x,top:e.offset.y}),he()(".Grid").css("background-position",e.offset.x+"px "+e.offset.y+"px"),e.pan.lastPt=new me["a"](o,r)}},isTileAt:function(e,t,a){var o=!1;return q.state.videoGrid.forEach((function(e){var r=e.x+e.sizeX/10-1,i=e.y+e.sizeX/10-1;e.x<=t&&t<=r&&e.y<=a&&a<=i&&(o=!0,q.commit("setActivePlayById",e.id))})),o},mergeVideoTile:function(t,a,o){var r=!0;null==e.lastVideoTile.id&&q.state.videoGrid.forEach((function(t){t.id==q.state.activePlayer.id&&(e.lastVideoTile=t)}));var i=e.lastVideoTile;e.lastVideoTile.lastX>a?r&&("position"==q.state.transformationMode?i.x=i.x-1:i.sizeX=i.sizeX-10):e.lastVideoTile.x<a?r&&("position"==q.state.transformationMode?i.x=i.x+1:i.sizeX=i.sizeX+10):e.lastVideoTile.y<o?r&&("position"==q.state.transformationMode?i.y=i.y+1:i.sizeX=i.sizeX+10):e.lastVideoTile.y>=o&&r&&("position"==q.state.transformationMode?i.y=i.y-1:i.sizeX=i.sizeX-10),i.sizeX>=10?(e.lastVideoTile.lastX=a,e.lastVideoTile.lastY=o,q.commit("updateGridVideo",i)):i.sizeX=10},addVideoTile:function(t,a,o){if(!e.isTileAt(t,a,o)){var r="JALvideojs"+Date.now(),i=new J(r,a,o,10,10);e.lastVideoTile={id:r,sizeX:10,sizeY:10,x:a,y:o,lastX:a,lastY:o,src:void 0},q.commit("addVideoToGrid",i),q.commit("setTransformationMode","size")}},addTile:function(t,a,o){if(!e.isTileAt(t,a,o)){var r="<div class='"+t+"' data-x='"+a+"' data-y='"+o+"' style='position:absolute;width:10vh;height:10vh;background:#ff914c; left: "+a*e.cellSize+"vh; top: "+o*e.cellSize+"vh'></div>";he()(".Tiles").append(r)}},deleteTile:function(e,t,a){he()("."+e+"[data-x='"+t+"'][data-y='"+a+"']").remove()},deleteAllTilesOfType:function(e){he()("."+e).remove()}};e.cursor.enable(),e.modify.enable(),e.pan.enable(),he()("#btn-clearAll").click((function(){e.deleteAllTilesOfType(e.curTileType)}))}},{key:"addFile",value:function(e){var t=this,a=e.dataTransfer.files;a&&Object(F["a"])(a).forEach((function(e){var a=new FileReader;a.onload=t.loadData,a.readAsDataURL(e),t.files.push(e)}))}},{key:"loadData",value:function(e){null!==e&&null!==e.target&&(this.data.push(e.target.result),q.commit("setAtivePlayerSrc",e.target.result),q.commit("removeChildren",q.state.activePlayer.id))}},{key:"removeFile",value:function(e){this.files=this.files.filter((function(t){return t!=e}))}},{key:"mouseoverAddBtn",value:function(){this.hover=!0}},{key:"mouseleaveAddBtn",value:function(){this.hover=!1}},{key:"refreshMergedStream",value:function(){console.log("Try to refresh merged Stream:");var e=[];q.state.players.forEach((function(t){e.push(t),void 0!==t.player.record()&&(console.log("save"))})),this.merger=this.service.mergeVideos(e);var t=this.merger.result;console.log(t);var a={mimeType:"video/webm; codecs=vp9"};this.mediaRecorder=new MediaRecorder(t,a),this.mediaRecorder.crossOrigin="anonymous",q.state.players.forEach((function(e){document.getElementById(e.id)}))}},{key:"addPlayer",value:function(){q.commit("addChildren",new H("JALvideojs"+Date.now(),null)),this.mediaRecorder=null}},{key:"removePlayer",value:function(){q.commit("removeChildren",q.state.activePlayer.id)}},{key:"record",value:function(){var e=this;if(null!=this.mediaRecorder){var t,a;if(1!=this.recording)this.mediaRecorder.ondataavailable=this.handleDataAvailable,null===(t=this.mediaRecorder)||void 0===t||t.start(),this.recording=!0,this.click();else null===(a=this.mediaRecorder)||void 0===a||a.stop(),this.recording=!1,this.merger.destroy()}else{var o,r,i;if(void 0!=this.service.player)o=this.service.player.record();else o=null===q||void 0===q||null===(r=q.state)||void 0===r||null===(i=r.activePlayer)||void 0===i?void 0:i.player.record();o.isRecording()?(o.stop(),this.recording=!1):(o.start(),this.recording=!0)}this.recording&&q.state.players.forEach((function(t){t.player.on("ended",(function(){e.recording&&e.record()}))}))}},{key:"onFileChange",value:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(fe.prototype.loadState(t[0]),q.state.players.forEach((function(e){q.commit("addChildren",new H("JALvideojs"+Date.now(),null))})))}},{key:"click",value:function(){var e=this;q.state.players.forEach((function(t){q.commit("setPlaying",!0),console.log("play"),e.isMobileDevice||null==t.player.wavesurfer?t.player.play():(t.player.wavesurfer().play(),t.player.wavesurfer().surfer.setVolume(0))}))}},{key:"pause",value:function(){q.state.players.forEach((function(e){q.commit("setPlaying",!1),console.log("pause"),e.player.pause()}))}},{key:"stop",value:function(){q.state.players.forEach((function(e){console.log("stop"),e.player.currentTime(0),e.player.pause()})),q.commit("setPlaying",!1)}},{key:"saveProject",value:function(){this.saveProjectDialog=!1,fe.prototype.saveState(q.state.activeProject,this.projectName)}},{key:"save",value:function(){console.log("todoSave"),this.downloading=!0;try{this.refreshMergedStream(),this.record()}catch(e){alert(e.message)}finally{this.downloading=!1}}},{key:"handleDataAvailable",value:function(e){console.log("data-available"),this.recordedChunks.push(e.data),console.log(this.recordedChunks),this.download(),this.downloading=!1}},{key:"download",value:function(){var e=new Blob(this.recordedChunks,{type:"video/webm"}),t=URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),a.href=t,a.download="test.webm",a.click(),window.URL.revokeObjectURL(t)}},{key:"timeSlider",get:function(){try{var e;return void 0!=q.state.activePlayer.player&&null!=q.state.activePlayer.player?((null===(e=q.state.activePlayer.player)||void 0===e?void 0:e.duration())==q.state.activePlayer.player.currentTime()&&q.commit("setPlaying",!1),this.isMobileDevice?q.state.activePlayer.player.wavesurfer.getCurrentTime():q.state.activePlayer.player.currentTime()):0}catch(t){return 0}},set:function(e){this.i=0}},{key:"videoWidth",get:function(){if(this.isMobileDevice)return"100px";switch(q.state.children.length){case 1:return"100vw";case 2:return"48vw";case 3:case 4:case 5:case 6:return"32vw";default:return"10vw"}}},{key:"getColMd",get:function(){return 6}}]),a}(o["a"]);Object(se["__decorate"])([Object(U["b"])()],ye.prototype,"projectidprop",void 0),ye=Object(se["__decorate"])([Object(U["a"])({components:{"video-js-recorder":$}})],ye);var ge=ye,be=ge,we=(a("a363"),a("40dc")),Ce=a("8336"),xe=a("99d9"),je=a("62ad"),Te=a("169a"),ke=a("132d"),Oe=a("adda"),Ve=a("a797"),Pe=a("490a"),_e=a("8e36"),Se=a("0fd9"),Fe=a("ba0d"),Ge=a("2fa4"),Ae=a("8654"),De=Object(d["a"])(be,ie,ne,!1,null,"4445fac7",null),Ee=De.exports;v()(De,{VAppBar:we["a"],VBtn:Ce["a"],VCard:p["a"],VCardActions:xe["a"],VCardText:xe["b"],VCardTitle:xe["c"],VCol:je["a"],VContainer:X["a"],VDialog:Te["a"],VIcon:ke["a"],VImg:Oe["a"],VOverlay:Ve["a"],VProgressCircular:Pe["a"],VProgressLinear:_e["a"],VRow:Se["a"],VSlider:Fe["a"],VSpacer:Ge["a"],VTextField:Ae["a"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-app-bar",{attrs:{fixed:"",bottom:!0,height:"auto",extended:!1,"extension-height":"auto"}},[a("v-card",{attrs:{width:"100%"}},[a("v-row",{attrs:{"align-start":""}}),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-tabs",{attrs:{color:"#FF914C",centered:!0}},[a("v-tab",{attrs:{href:"#tab-up"}},[a("v-icon",[e._v("mdi-chevron-down")])],1),a("v-tab",{attrs:{href:"#tab-sync"}},[a("v-icon",{attrs:{hint:"Timing..."}},[e._v("mdi-metronome")])],1),a("v-tab",{attrs:{href:"#tab-audio"}},[a("v-icon",{attrs:{hint:"Audio..."}},[e._v("mdi-microphone")])],1),a("v-tab",{attrs:{href:"#tab-Users"}},[a("v-icon",{attrs:{hint:"Camera..."}},[e._v("mdi-account-group")])],1),a("v-tab-item",{attrs:{color:"#FF914C",value:"tab-sync",height:"300px"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-row")],1)],1),a("v-tab-item",{attrs:{color:"#FF914C",value:"tab-sync",height:"300px"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-row",[a("v-col",{attrs:{cols:"1"}}),a("v-col",{attrs:{cols:"10"}},[a("v-card-text",[a("label",[e._v("Offset (ms)")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-slider",{staticClass:"align-center",staticStyle:{"margin-bottom":"2%"},attrs:{max:"3000","thumb-label":""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"thumb-label":"","hide-details":"","single-line":"",type:"number"},model:{value:e.slider,callback:function(t){e.slider=t},expression:"slider"}})]},proxy:!0}]),model:{value:e.offset,callback:function(t){e.offset=t},expression:"offset"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"1"}})],1)],1)],1),a("v-tab-item",{attrs:{color:"#FF914C",value:"tab-Users",height:"300px"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}}),a("v-col",[a("v-text-field",{staticStyle:{color:"#FF914C"},attrs:{readonly:"",value:e.getInvitationLink(),label:"Share this invitation link"}})],1),a("v-col",[a("v-btn",[a("v-icon",{attrs:{color:"#FF914C"},on:{click:e.copyLinkToClipboard}},[e._v("mdi-content-copy")])],1)],1),a("v-col",{attrs:{cols:"3"}})],1)],1)],1)],1)],1)],1)],1)],1)},Re=[],Me=function(e){Object(E["a"])(a,e);var t=Object(z["a"])(a);function a(e){var o;return Object(V["a"])(this,a),o=t.call(this,e),o.slider=0,o}return Object(A["a"])(a,[{key:"copyLinkToClipboard",value:function(){var e=document.createElement("textarea");e.value=this.getInvitationLink(),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}},{key:"getInvitationLink",value:function(){return location.href+"?"+q.state.activeProject}},{key:"offset",get:function(){return void 0!=q.state.activePlayer&&void 0!=q.state.activePlayer.player?q.state.activePlayer.player.slider:0},set:function(e){this.slider=e,console.log("offset: "+e/1e3),q.state.activePlayer.player.offset({start:e/1e3})}}]),a}(o["a"]);Me=Object(se["__decorate"])([Object(U["a"])({components:{"video-js-recorder":$}})],Me);var Ie=Me,Ue=Ie,Be=(a("7b1f"),a("71a3")),We=a("c671"),Ne=a("fe57"),Xe=Object(d["a"])(Ue,ze,Re,!1,null,"6bba8328",null),Le=Xe.exports;v()(Xe,{VAppBar:we["a"],VBtn:Ce["a"],VCard:p["a"],VCardText:xe["b"],VCol:je["a"],VContainer:X["a"],VIcon:ke["a"],VRow:Se["a"],VSlider:Fe["a"],VTab:Be["a"],VTabItem:We["a"],VTabs:Ne["a"],VTextField:Ae["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jo",staticStyle:{"margin-top":"10vh"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-container",{staticClass:"pa-4 text-center",staticStyle:{background:"#363636"}},[a("v-card",[a("h1",{staticClass:"display-3 ",staticStyle:{color:"FF914C"}},[e._v("Jams")]),a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{class:{"on-hover":o},staticStyle:{background:"#e03f3c"},attrs:{elevation:o?12:2}},[a("v-text-field",{staticStyle:{padding:"30px"},attrs:{disabled:!0,label:"New Jam"}}),a("v-img",{attrs:{height:"150px"}},[a("v-card-title",{staticClass:"title white--text"},[a("v-row",{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[a("div",{staticClass:"align-self-center"},[a("router-link",{attrs:{to:"/RecorderApp"}},[a("v-btn",{class:{"show-btns":o},attrs:{"background-opacity":"0"}},[a("v-icon",[e._v("mdi-plus")])],1)],1)],1)])],1)],1)],1)]}}])})],1)],e._l(e.$store.state.userProfile.projects,(function(e){return[a("Project",{key:e.projectid,attrs:{item:e}})]}))],2)],1)],1)],1)],1)},Ye=[],He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{class:{"on-hover":o},staticStyle:{background:"#FF914C"},attrs:{elevation:o?12:2}},[a("v-text-field",{staticStyle:{padding:"30px"},attrs:{autocomplete:"off",label:"Jam",color:"white",value:e.name},on:{change:e.updateProjectName}}),a("v-img",{attrs:{height:"150px"}},[a("v-card-title",{staticClass:"title white--text"},[a("v-row",{staticClass:"fill-height flex-column",attrs:{justify:"space-between"}},[a("div",{staticClass:"align-self-center"},[a("v-btn",{class:{"show-btns":o},on:{click:e.click}},[a("v-icon",{class:{"show-btns":o}},[e._v("mdi-pencil")])],1)],1)])],1)],1)],1)]}}])})],1)},Je=[],qe=function(e){Object(E["a"])(a,e);var t=Object(z["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.projectName="no name",e}return Object(A["a"])(a,[{key:"mounted",value:function(){var e=ee.a.database().ref("project/"+this.item.projectid);e.on("value",(function(e){q.commit("addProject",e.val())}))}},{key:"click",value:function(){q.commit("setProject",this.item.projectid),q.commit("setProjectName",this.projectName),this.$router.replace("RecorderApp")}},{key:"updateProjectName",value:function(e){var t={};return t["project/"+this.item+"/name"]=e,ee.a.database().ref().update(t)}},{key:"name",get:function(){return this.projectName=this.item.name,this.projectName}}]),a}(o["a"]);Object(se["__decorate"])([Object(U["b"])()],qe.prototype,"item",void 0),qe=Object(se["__decorate"])([Object(U["a"])({})],qe);var Ze=qe,Ke=Ze,Qe=(a("9373"),a("ce87")),et=Object(d["a"])(Ke,He,Je,!1,null,"2bee95bb",null),tt=et.exports;v()(et,{VBtn:Ce["a"],VCard:p["a"],VCardTitle:xe["c"],VCol:je["a"],VHover:Qe["a"],VIcon:ke["a"],VImg:Oe["a"],VRow:Se["a"],VTextField:Ae["a"]});var at=function(e){Object(E["a"])(a,e);var t=Object(z["a"])(a);function a(){return Object(V["a"])(this,a),t.call(this)}return Object(A["a"])(a,[{key:"mounted",value:function(){q.commit("setProject","")}}]),a}(o["a"]);at=Object(se["__decorate"])([Object(U["a"])({components:{Project:tt}})],at);var ot=at,rt=ot,it=Object(d["a"])(rt,$e,Ye,!1,null,null,null),nt=it.exports;v()(it,{VApp:f["a"],VBtn:Ce["a"],VCard:p["a"],VCardTitle:xe["c"],VCol:je["a"],VContainer:X["a"],VHover:Qe["a"],VIcon:ke["a"],VImg:Oe["a"],VRow:Se["a"],VTextField:Ae["a"]});var st={name:"home",components:{ProjectGrid:nt},props:{source:String},data:function(){return{drawer:null,overlay:!0}},mounted:function(){this.overlay=!0,this.init()},methods:{init:function(){var e=this;return Object(re["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return fe.prototype.loadUser(ee.a.auth().currentUser.uid),t.next=3,e.sleep(1e3);case 3:e.overlay=!1;case 4:case"end":return t.stop()}}),t)})))()},sleep:function(e){return new Promise((function(t){setTimeout(t,e)}))},logout:function(){var e=this;ee.a.auth().signOut().then((function(){e.$router.replace("login")}))}}},lt=st,ct=(a("03f5"),a("5bc1")),dt=a("553a"),ut=a("8860"),vt=a("da13"),ft=a("1800"),pt=a("5d23"),ht=a("f774"),mt=Object(d["a"])(lt,ae,oe,!1,null,"1d9474aa",null),yt=mt.exports;v()(mt,{VApp:f["a"],VAppBar:we["a"],VAppBarNavIcon:ct["a"],VCol:je["a"],VContainer:X["a"],VFooter:dt["a"],VIcon:ke["a"],VImg:Oe["a"],VList:ut["a"],VListItem:vt["a"],VListItemAction:ft["a"],VListItemContent:pt["a"],VListItemTitle:pt["b"],VNavigationDrawer:ht["a"],VOverlay:Ve["a"],VProgressLinear:_e["a"],VRow:Se["a"]});var gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"5.5"}}),o("v-col",{attrs:{cols:"1"}},[o("v-img",{attrs:{src:a("26e6")}})],1),o("v-col",{attrs:{cols:"5.5"}})],1),o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[o("v-card",{staticClass:"elevation-12"},[o("v-toolbar",{attrs:{dark:"",flat:""}},[o("v-toolbar-title",{staticClass:"primary--text"},[e._v("Login")]),o("v-spacer")],1),o("v-card-text",[o("v-form",[o("v-text-field",{attrs:{placeholder:"Email",label:"Email",name:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("v-text-field",{attrs:{id:"password",placeholder:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),o("v-card-actions",[o("v-btn",{staticClass:"primary--text",on:{click:e.login}},[e._v("Login")]),o("br"),o("v-spacer"),o("p",[e._v(" You don't have an account ? You can "),o("router-link",{attrs:{to:"/sign-up"}},[e._v("create one")])],1)],1)],1)],1)],1),o("v-footer",{attrs:{app:""}},[o("span",[e._v("© 2020")]),o("span",[o("router-link",{attrs:{to:"/disclaimer"}},[e._v("Disclaimer")])],1)])],1)],1)},bt=[],wt={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(){var e=this;ee.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){""!=q.state.nextUrl?e.$router.push(q.state.nextUrl):e.$router.replace("home")}),(function(e){alert("Oops. "+e.message)}))}}},Ct=wt,xt=a("a75b"),jt=a("4bd4"),Tt=a("71d9"),kt=a("2a7f"),Ot=Object(d["a"])(Ct,gt,bt,!1,null,"2d651b96",null),Vt=Ot.exports;v()(Ot,{VBtn:Ce["a"],VCard:p["a"],VCardActions:xe["a"],VCardText:xe["b"],VCol:je["a"],VContainer:X["a"],VContent:xt["a"],VFooter:dt["a"],VForm:jt["a"],VImg:Oe["a"],VRow:Se["a"],VSpacer:Ge["a"],VTextField:Ae["a"],VToolbar:Tt["a"],VToolbarTitle:kt["a"]});var Pt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"5.5"}}),o("v-col",{attrs:{cols:"1"}},[o("v-img",{attrs:{src:a("26e6")}})],1),o("v-col",{attrs:{cols:"5.5"}})],1),o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[o("v-card",{staticClass:"elevation-12"},[o("v-toolbar",{attrs:{dark:"",flat:""}},[o("v-toolbar-title",[e._v("Sign up")]),o("v-spacer")],1),o("v-card-text",[o("v-form",[o("v-text-field",{attrs:{placeholder:"Email",label:"Email",name:"Email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("v-text-field",{attrs:{placeholder:"Name",label:"name",name:"name",type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),o("v-text-field",{attrs:{placeholder:"Lastname",label:"lastname",name:"lastname",type:"text"},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),o("v-text-field",{attrs:{id:"password",placeholder:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),o("v-card-actions",[o("v-btn",{staticClass:"primary--text",on:{click:e.signUp}},[e._v("Sign Up")]),o("br"),o("v-spacer"),o("p"),o("p",[e._v("or go back to "),o("router-link",{attrs:{to:"/login"}},[e._v("login")])],1)],1)],1)],1)],1)],1),o("v-footer",{attrs:{app:""}},[o("span",[e._v("© 2020")]),o("p",[o("router-link",{attrs:{to:"/disclaimer"}},[e._v("Disclaimer")])],1)])],1)},_t=[],St={name:"signUp",data:function(){return{email:"",password:"",name:"",lastname:""}},methods:{signUp:function(){var e=this;ee.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(t){fe.prototype.createUser(ee.a.auth().currentUser.uid,e.email,e.name,e.lastname),""!=q.state.nextUrl?e.$router.push(q.state.nextUrl):e.$router.replace("home")}),(function(e){alert("Oops. "+e.message)}))}}},Ft=St,Gt=(a("e97f"),Object(d["a"])(Ft,Pt,_t,!1,null,"04aaba2e",null)),At=Gt.exports;v()(Gt,{VBtn:Ce["a"],VCard:p["a"],VCardActions:xe["a"],VCardText:xe["b"],VCol:je["a"],VContainer:X["a"],VContent:xt["a"],VFooter:dt["a"],VForm:jt["a"],VImg:Oe["a"],VRow:Se["a"],VSpacer:Ge["a"],VTextField:Ae["a"],VToolbar:Tt["a"],VToolbarTitle:kt["a"]});var Dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{staticClass:"scroll",attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"5.5"}}),o("v-col",{attrs:{cols:"1"}},[o("v-img",{attrs:{src:a("26e6")}})],1),o("v-col",{attrs:{cols:"5.5"}})],1),o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12"}},[o("v-card",{staticClass:"elevation-12"},[o("v-toolbar",{attrs:{dark:"",flat:""}},[o("v-toolbar-title",{staticClass:"primary--text"},[e._v("Disclaimer")]),o("v-spacer")],1),o("v-card-text",[o("h1",[e._v("Disclaimer")]),o("p",[e._v(' This disclaimer ("Disclaimer", "Agreement") is an agreement between Website Operator ("Website Operator", "us", "we" or "our") and you ("User", "you" or "your"). This Disclaimer sets forth the general guidelines, terms and conditions of your use of the '),o("a",{attrs:{target:"_blank",rel:"nofollow",href:"https://jam-along.azurewebsites.net"}},[e._v("jam-along.azurewebsites.net")]),e._v(' website and any of its products or services (collectively, "Website" or "Services"). ')]),o("h2",[e._v("Representation")]),o("p",[e._v(" Any views or opinions represented on the Website are personal and belong solely to Website Operator and do not represent those of people, institutions or organizations that the owner may or may not be associated with in professional or personal capacity unless explicitly stated. Any views or opinions are not intended to malign any religion, ethnic group, club, organization, company, or individual. ")]),o("h2",[e._v("Content and postings")]),o("p",[e._v(" You may not modify, print or copy any part of the Website. Inclusion of any part of this Website in another work, whether in printed or electronic or another form or inclusion of any part of the Website in another website by embedding, framing or otherwise without the express permission of Website Operator is prohibited. ")]),o("p",[e._v(" You may submit comments for the available Content on the Website. By uploading or otherwise making available any information to Website Operator, you grant Website Operator the unlimited, perpetual right to distribute, display, publish, reproduce, reuse and copy the information contained therein. You may not impersonate any other person through the Website. You may not post content that is defamatory, fraudulent, obscene, threatening, invasive of another person's privacy rights or that is otherwise unlawful. You may not post content that infringes on the intellectual property rights of any other person or entity. You may not post any content that includes any computer virus or other code designed to disrupt, damage, or limit the functioning of any computer software or hardware. ")]),o("h2",[e._v("Indemnification and warranties")]),o("p",[e._v(' While we have made every attempt to ensure that the information contained on the Website is correct. Website Operator is not responsible for any errors or omissions, or for the results obtained from the use of this information. All information on the Website is provided "as is", with no guarantee of completeness, accuracy, timeliness or of the results obtained from the use of this information, and without warranty of any kind, express or implied. In no event will Website Operator be liable to you or anyone else for any decision made or action taken in reliance on the information on the Website or for any consequential, special or similar damages, even if advised of the possibility of such damages. ')]),o("p",[e._v(" We reserve the right to modify this Disclaimer relating to the Website, products or services at any time, effective upon posting of an updated version of this Disclaimer on the Website. When we do we will revise the updated date at the bottom of this page. Continued use of the Website after any such changes shall constitute your consent to such changes. Policy was created with "),o("a",{staticStyle:{color:"inherit"},attrs:{target:"_blank",title:"Sample disclaimer template",href:"https://www.websitepolicies.com/disclaimer-generator"}},[e._v("WebsitePolicies")]),e._v(". ")]),o("h2",[e._v("Acceptance of this disclaimer")]),o("p",[e._v(" You acknowledge that you have read this Disclaimer and agree to all its terms and conditions. By accessing the Website you agree to be bound by this Disclaimer. If you do not agree to abide by the terms of this Disclaimer, you are not authorized to use or access the Website. ")]),o("h2",[e._v("Contacting us")]),o("p",[e._v(" If you have any questions about this Disclaimer, please contact us. ")]),o("p",[e._v("This document was last updated on May 12, 2020")])])],1)],1)],1),o("v-footer",{attrs:{app:""}},[o("span",[e._v("© 2020")]),o("span",[o("router-link",{attrs:{to:"/home"}},[o("v-icon",[e._v("mdi-home")])],1)],1)])],1)],1)},Et=[],zt={name:"Disclaimer",methods:{logout:function(){console.log("")}}},Rt=zt,Mt=(a("a71e"),Object(d["a"])(Rt,Dt,Et,!1,null,"62cc7910",null)),It=Mt.exports;v()(Mt,{VCard:p["a"],VCardText:xe["b"],VCol:je["a"],VContainer:X["a"],VContent:xt["a"],VFooter:dt["a"],VIcon:ke["a"],VImg:Oe["a"],VRow:Se["a"],VSpacer:Ge["a"],VToolbar:Tt["a"],VToolbarTitle:kt["a"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"RecorderApp"},[a("button",{on:{click:e.logout}},[e._v("Logout")]),a("VideoRecorderGrid"),a("div",{attrs:{height:"50%"}},[a("DetailPanel")],1)],1)},Bt=[],Wt={name:"RecorderApp",components:{VideoRecorderGrid:Ee,DetailPanel:Le},methods:{logout:function(){var e=this;ee.a.auth().signOut().then((function(){e.$router.replace("login")}))}}},Nt=Wt,Xt=(a("270c"),Object(d["a"])(Nt,Ut,Bt,!1,null,null,null)),Lt=Xt.exports;o["a"].use(te["a"]);var $t=new te["a"]({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:Vt},{path:"/sign-up",name:"SignUp",component:At},{path:"/home",name:"Home",component:yt,meta:{requiresAuth:!0}},{path:"/RecorderApp",name:"RecorderApp",component:Lt,meta:{requiresAuth:!0}},{path:"/disclaimer",name:"Disclaimer",component:It}]});$t.beforeEach((function(e,t,a){if("/disclaimer"!=e.fullPath){var o=ee.a.auth().currentUser,r=e.matched.some((function(e){return e.meta.requiresAuth}));if(r&&!o)q.commit("setNextUrl",e.fullPath),a({path:"login"});else if(!r&&o)a("home");else{if(e.fullPath.indexOf("?")>0){var i=e.fullPath.split("?");q.commit("setProject",i[1]),fe.prototype.loadProject()}q.commit("setNextUrl",""),a()}}else a()}));var Yt,Ht=$t,Jt=a("1543");o["a"].config.productionTip=!1,o["a"].filter("kb",(function(e){return Math.floor(e/1024)})),o["a"].config.devtools=!0,Jt.auth.onAuthStateChanged((function(e){Yt||(Yt=new o["a"]({el:"#app",router:Ht,store:q,vuetify:K,render:function(e){return e(m)}}).$mount("#app"))}))},e72b:function(e,t,a){},e97f:function(e,t,a){"use strict";var o=a("2111"),r=a.n(o);r.a}});
//# sourceMappingURL=app.1a9f8c35.js.map